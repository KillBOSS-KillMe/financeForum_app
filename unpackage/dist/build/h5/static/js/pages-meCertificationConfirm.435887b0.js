(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-meCertificationConfirm"],{"0d63":function(t,e,i){t.exports=i.p+"static/img/card1.f3c4413d.png"},"10c0":function(t,e,i){var n=i("f66f");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("00f3d500",n,!0,{sourceMap:!1,shadowMode:!1})},"2b3e":function(t,e,i){"use strict";i.r(e);var n=i("abed"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"2c47":function(t,e,i){t.exports=i.p+"static/img/card0.eb8f3fb3.png"},"9c00":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"online"}),n("v-uni-view",{staticClass:"list"},[n("v-uni-view",{staticClass:"item"},[n("v-uni-text",[t._v("真实姓名")]),n("v-uni-view",{staticClass:"right"},[n("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请填写您的真实姓名","data-name":"real_name"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputValue.apply(void 0,arguments)}}}),n("uni-icon",{staticClass:"iconfont iconchangyongtubiao-xianxingdaochu-zhuanqu-",attrs:{type:""}})],1)],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-text",[t._v("身份证号")]),n("v-uni-view",{staticClass:"right"},[n("v-uni-input",{attrs:{type:"idcard",value:"",placeholder:"请输入18位有效身份证号","data-name":"id_card"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputValue.apply(void 0,arguments)}}}),n("uni-icon",{staticClass:"iconfont iconchangyongtubiao-xianxingdaochu-zhuanqu-",attrs:{type:""}})],1)],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-text",[t._v("联系方式")]),n("v-uni-view",{staticClass:"right"},[n("v-uni-input",{attrs:{type:"number",value:"",placeholder:"请输入您的联系方式","data-name":"phone"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputValue.apply(void 0,arguments)}}}),n("uni-icon",{staticClass:"iconfont iconchangyongtubiao-xianxingdaochu-zhuanqu-",attrs:{type:""}})],1)],1)],1),n("v-uni-view",{staticClass:"online"}),n("v-uni-view",{staticClass:"codeImg"},[n("v-uni-text",[t._v("上传身份证正方反面")]),n("v-uni-view",{staticClass:"card"},[n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCard(1)}}},[""!=t.formNode.card_positive?n("v-uni-image",{attrs:{src:t.formNode.card_positive,mode:""}}):n("v-uni-image",{attrs:{src:i("2c47"),mode:""}})],1),n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCard(2)}}},[""!=t.formNode.card_peverse?n("v-uni-image",{attrs:{src:t.formNode.card_peverse,mode:""}}):n("v-uni-image",{attrs:{src:i("0d63"),mode:""}})],1)],1)],1),""==t.formNode.real_name||""==t.formNode.id_card||""==t.formNode.phone||""==t.formNode.card_positive||""==t.formNode.card_peverse?n("v-uni-button",{staticClass:"meCertification",attrs:{type:""}},[t._v("认证")]):n("v-uni-button",{staticClass:"meCertification",staticStyle:{background:"#2390DC"},attrs:{type:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submint.apply(void 0,arguments)}}},[t._v("认证")])],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},abed:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a"),i("5df3");var a=n(i("a3a0")),o=(getApp(),{data:function(){return{formNode:{real_name:"",id_card:"",phone:"",card_positive:"",card_peverse:""},token:"",isDisabled:!1,imgUrl:""}},onLoad:function(){this.token=uni.getStorageSync("token"),this.imgUrl=a.default.imgUrl},methods:{inputValue:function(t){var e=this.formNode,i=t.currentTarget.dataset.name,n=t.detail.value;e[i]=n,this.formNode=e},getCard:function(t){console.log(t);var e=t;this.getImg(e)},getImg:function(t){var e=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(i){uni.showToast({title:"图片上传中",icon:"loading"}),Promise.all(i.tempFiles.map((function(t){return new Promise((function(i,n){uni.uploadFile({url:"".concat(a.default.requestUrl,"/posts/uploads"),filePath:t.path,name:"file",header:{authorization:e.token},success:function(t){console.log(t),i({path:JSON.parse(t.data).data})}})}))}))).then((function(i){uni.hideToast(),console.log(i[0].path.path,"++++++++++"),1==t?(e.formNode.card_positive=i[0].path.path,console.log(e.formNode.card_positive)):e.formNode.card_peverse=i[0].path.path})).catch((function(t){return console.log(t)}))}})},submint:function(){return""==this.formNode.real_name?(wx.showToast({title:"请填写您的真实姓名",icon:"none",duration:2e3}),!1):""==this.formNode.id_card?(wx.showToast({title:"请输入18位有效身份证号",icon:"none",duration:2e3}),!1):18!=this.formNode.id_card.length?(wx.showToast({title:"请输入18位有效身份证号",icon:"none",duration:2e3}),!1):""==this.formNode.phone?(wx.showToast({title:"请输入您的联系方式",icon:"none",duration:2e3}),!1):11!=this.formNode.phone.length?(wx.showToast({title:"请输入您的联系方式",icon:"none",duration:2e3}),!1):""==this.formNode.card_positive?(wx.showToast({title:"请上传身份证正面",icon:"none",duration:2e3}),!1):""==this.formNode.card_peverse?(wx.showToast({title:"请上传身份证反面",icon:"none",duration:2e3}),!1):(uni.showLoading({title:"认证中...",duration:1e3}),void uni.request({url:"".concat(a.default.requestUrl,"/user/real-check"),method:"POST",header:{authorization:this.token},data:this.formNode,success:function(t){console.log(t),uni.hideLoading(),t=a.default.null2str(t),console.log(t,"*-*****"),200==t.data.status_code?(uni.showToast({title:t.data.message,icon:"none"}),setTimeout((function(t){uni.reLaunch({url:"/pages/me"})}),2e3)):uni.showToast({title:t.data.message,icon:"none"})}}))}}});e.default=o},d6ea:function(t,e,i){"use strict";i.r(e);var n=i("9c00"),a=i("2b3e");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("efdb");var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"8f03eb66",null,!1,n["a"],s);e["default"]=c.exports},efdb:function(t,e,i){"use strict";var n=i("10c0"),a=i.n(n);a.a},f66f:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".content[data-v-8f03eb66]{width:%?750?%}.online[data-v-8f03eb66]{width:%?750?%;height:%?16?%;background:#f3f3f3}.list[data-v-8f03eb66]{width:%?690?%;padding:0 %?30?%}.item[data-v-8f03eb66]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-bottom:%?1?% solid #ececec;padding:%?30?% 0}.item>uni-text[data-v-8f03eb66]{color:#333;font-size:%?28?%;font-weight:600}.right[data-v-8f03eb66]{display:-webkit-box;display:-webkit-flex;display:flex}.right uni-input[data-v-8f03eb66]{text-align:right;width:%?400?%;font-size:%?24?%;color:#b8b8b8;margin-right:%?10?%}.right .iconfont[data-v-8f03eb66]{color:silver;font-weight:600600}.codeImg[data-v-8f03eb66]{width:%?690?%;padding:%?30?%}.codeImg>uni-text[data-v-8f03eb66]{font-size:%?28?%;font-weight:600;color:#333}.card[data-v-8f03eb66]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:%?40?%}.card uni-image[data-v-8f03eb66]{width:%?328?%;height:%?221?%;border-radius:10px 10px 10px 10px}.meCertification[data-v-8f03eb66]{width:%?630?%;height:%?80?%;line-height:%?80?%;background:#91c0e1;box-shadow:%?0?% %?10?% %?45?% %?0?% rgba(35,144,220,.6);border-radius:%?10?%;barder:none;margin-top:%?40?%;color:#fff}",""]),t.exports=e}}]);