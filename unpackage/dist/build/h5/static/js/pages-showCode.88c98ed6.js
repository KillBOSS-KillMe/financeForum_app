(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-showCode"],{"00aa":function(t,e,i){"use strict";i.r(e);var n=i("5fe6"),o=i("af74");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("3ba9");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"5abb4b22",null,!1,n["a"],s);e["default"]=r.exports},"0531":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'.shareCode[data-v-5abb4b22]{width:%?750?%;height:100vh;overflow:hidden;position:relative}.bg[data-v-5abb4b22]{width:%?750?%;height:100vh;overflow:hidden}.content[data-v-5abb4b22]{position:absolute;top:%?80?%;left:50%;margin-left:%?-276?%;z-index:6;width:%?552?%;background:#fff;border:%?1?% solid #fff;-webkit-border-radius:%?14?%;border-radius:%?14?%;padding:0 0 %?60?% 0}.content .head[data-v-5abb4b22]{font-size:%?28?%;font-weight:700;color:#333;text-align:center;border-bottom:%?2?% dashed #dcdcdc;padding:%?24?% 0}.content .head[data-v-5abb4b22]::after{content:"";display:block;width:%?20?%;height:%?40?%;background:#2390dc;-webkit-border-radius:0 %?50?% %?50?% 0;border-radius:0 %?50?% %?50?% 0;position:absolute;top:%?66?%;left:%?-2?%}.content .head[data-v-5abb4b22]::before{content:"";display:block;width:%?20?%;height:%?40?%;background:#2390dc;-webkit-border-radius:%?50?% 0 0 %?50?%;border-radius:%?50?% 0 0 %?50?%;position:absolute;top:%?66?%;right:%?-2?%}.con[data-v-5abb4b22]{margin-top:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.con uni-image[data-v-5abb4b22]{width:%?416?%;height:%?420?%;border:1px solid #fff}.con uni-text[data-v-5abb4b22]{font-size:%?20?%;font-weight:700;color:#666;margin:%?30?% 0 %?40?%}.con .submit[data-v-5abb4b22]{width:%?420?%;height:%?50?%;line-height:%?50?%;background:#2390dc;-webkit-box-shadow:%?0?% %?10?% %?45?% %?0?% rgba(35,144,220,.6);box-shadow:%?0?% %?10?% %?45?% %?0?% rgba(35,144,220,.6);border:none;color:#fff;font-size:%?24?%;font-weight:700;letter-spacing:%?1?%;-webkit-border-radius:%?30?%;border-radius:%?30?%}.meShare[data-v-5abb4b22]{width:%?750?%;position:fixed;z-index:99;bottom:0;left:0}\r\n/* 底部分享 */.uni-share[data-v-5abb4b22]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background-color:#fff}.uni-share-title[data-v-5abb4b22]{line-height:%?60?%;font-size:%?24?%;padding:%?15?% 0;text-align:center}.uni-share-content[data-v-5abb4b22]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:15px}.uni-share-content-box[data-v-5abb4b22]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?200?%}.uni-share-content-image[data-v-5abb4b22]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?70?%;height:%?70?%;overflow:hidden;-webkit-border-radius:%?10?%;border-radius:%?10?%}.uni-share-content-image .iconfont[data-v-5abb4b22]{font-size:%?60?%;color:#07c160}.content-image[data-v-5abb4b22]{width:%?60?%;height:%?60?%}.uni-share-content-text[data-v-5abb4b22]{font-size:%?26?%;color:#333;padding-top:5px;padding-bottom:10px}.uni-share-btn[data-v-5abb4b22]{height:%?90?%;line-height:%?90?%;font-size:%?32?%;text-align:center;color:#fff;font-weight:700;background:#2390dc}.share-btn[data-v-5abb4b22]{border:none;background:none}uni-button[data-v-5abb4b22]::after{border:none}\r\n/* 遮罩 */.modelShow[data-v-5abb4b22]{width:%?420?%;height:%?440?%;position:absolute;top:%?126?%;left:50%;margin-left:%?-210?%;z-index:5}.zhezhao[data-v-5abb4b22]{width:%?420?%;height:%?440?%;background-color:#fff;opacity:.7;position:absolute}.modelShow uni-text[data-v-5abb4b22]{width:%?420?%;font-size:%?24?%;font-weight:700;color:#333;letter-spacing:1px;height:%?440?%;line-height:%?440?%;position:absolute;left:50%;margin-left:%?-70?%;z-index:6}.purple_btn[data-v-5abb4b22]{font-size:%?28?%;margin-top:%?35?%;text-align:center;width:%?300?%;margin:%?50?% auto 0;height:%?60?%;line-height:%?60?%\r\n\t/* border: 1rpx solid #C0C0C0; */}',""]),t.exports=e},"3ba9":function(t,e,i){"use strict";var n=i("8b23"),o=i.n(n);o.a},"5fe6":function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"shareCode"},[n("v-uni-image",{staticClass:"bg",attrs:{src:i("c328"),mode:""}}),n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"head"},[t._v("子诺新微金推广二维码")]),n("v-uni-view",{staticClass:"con"},["显示二维码"==t.codeList.msg_log?n("v-uni-image",{attrs:{src:t.codeList.face,mode:""}}):n("v-uni-image",{attrs:{src:i("fbd2"),mode:""}}),n("v-uni-text",[t._v("注:推广二维码仅限一次，分享后需要刷新")]),n("v-uni-view")],1),n("uni-popup",{ref:"showshare",staticClass:"meShare",attrs:{type:"bottom"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[n("v-uni-view",{staticClass:"uni-share"},[n("v-uni-text",{staticClass:"uni-share-title"},[t._v("分享到")]),n("v-uni-view",{staticClass:"uni-share-content"}),n("v-uni-text",{staticClass:"uni-share-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("share")}}},[t._v("取消分享")])],1)],1),"显示二维码"!=t.codeList.msg_log?n("v-uni-view",{staticClass:"modelShow"},[n("v-uni-view",{staticClass:"zhezhao"}),n("v-uni-text",[t._v("请获取二维码")])],1):t._e(),"1"==t.showIs?n("v-uni-view",{staticClass:"modelShow"},[n("v-uni-view",{staticClass:"zhezhao"}),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.again.apply(void 0,arguments)}}},[t._v("请重新获取二维码")])],1):t._e()],1),n("v-uni-canvas",{staticClass:"test",style:"width:"+t.wWidth+"px;height:"+t.wHeight+"px",attrs:{"canvas-id":"mycanvas"}})],1)},a=[];i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},"82de":function(t,e,i){"use strict";(function(t){var n=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("4e16")),a=n(i("2c5d")),s=(i("289d"),getApp(),{data:function(){return{bottomData:[{text:"微信好友",type:"WXSceneSession",icon:"iconweixin"},{text:"朋友圈",type:"WXSenceTimeline",icon:"iconpengyouquan"}],codeType:"",codeList:{},showIs:"0",openSettingBtnHidden:!0,imgUrl:"",bj:"../static/erweimaImg.png",wWidth:"",wHeight:"",token:""}},components:{uniPopup:a.default},onLoad:function(e){var i=this;this.token=uni.getStorageSync("token"),t("log",e," at pages/showCode.vue:102"),this.codeType=e.type,this.imgUrl=o.default.imgUrl,uni.getSystemInfo({success:function(e){i.wWidth=e.windowWidth,t("log",i.wWidth," at pages/showCode.vue:108"),i.wHeight=e.windowHeight}})},onShow:function(){this.getCode()},onShareAppMessage:function(){var t=this.getPageUrl();return{title:this.articleDetail.title,path:t}},shareFriend:function(){this.goShare("WXSceneSession")},shareFriendcricle:function(){this.goShare("WXSenceTimeline")},methods:{quickInlet:function(t){2==t?this.$refs.showshare.open():1==t&&this.getList()},handleSetting:function(e){t("log",e," at pages/showCode.vue:146"),e.detail.authSetting["scope.writePhotosAlbum"]?this.openSettingBtnHidden=!0:this.openSettingBtnHidden=!1},saveEwm:function(){var t=this;uni.getSetting({success:function(e){e.authSetting["scope.writePhotosAlbum"]?t.saveImgToLocal():uni.authorize({scope:"scope.writePhotosAlbum",success:function(){t.saveImgToLocal()},fail:function(){t.openSettingBtnHidden=!1}})}})},saveImgToLocal:function(){var e=this;uni.showModal({title:"提示",content:"确定保存到相册吗",success:function(i){if(i.confirm){var n=e,o=(uni.getSystemInfoSync(),uni.createCanvasContext("mycanvas"));uni.getImageInfo({src:n.codeList.faceurl,success:function(e){t("log",e," at pages/showCode.vue:190"),o.drawImage(n.bj,0,0,n.wWidth,n.wHeight),o.drawImage(e.path,n.wWidth/2-80,n.wHeight/2-160,160,160),o.draw(!0,(function(){uni.canvasToTempFilePath({x:0,y:0,width:n.wWidth,height:n.wHeight,destWidth:n.wWidth,destHeight:n.wHeight,canvasId:"mycanvas",success:function(t){uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.showToast({title:"图片保存成功～"})},fail:function(t){},complete:function(){uni.hideLoading()}})},fail:function(t){uni.showToast({title:"保存失败",icon:"none"})}})}))}})}else i.cancel&&uni.showToast({title:"取消成功",icon:"none"})}})},getCode:function(){var e=this;uni.request({url:"".concat(o.default.requestUrl,"/promote-showmycode"),method:"GET",header:{authorization:this.token},success:function(i){i=o.default.null2str(i),t("log",i,"---"," at pages/showCode.vue:245"),-1==i.data.code?(uni.showToast({title:i.data.tip_msg,icon:"none"}),setTimeout((function(t){uni.navigateBack({delta:1})}),2e3)):(e.codeList=i.data,e.showIs="0",t("log",e.codeList.face,"*"," at pages/showCode.vue:259"))}})},getList:function(){uni.request({url:"".concat(o.default.requestUrl,"/promote-getmycode"),method:"GET",header:{authorization:this.token},success:function(e){e=o.default.null2str(e),t("log",e,"++++"," at pages/showCode.vue:275"),0==e.data.code?uni.showToast({title:e.data.tip_msg,icon:"none"}):(uni.showToast({title:e.data.tip_msg,icon:"none"}),setTimeout((function(t){uni.navigateBack({delta:1})}),2e3))}})},cancel:function(t){this.$refs["show"+t].close()},des:function(){uni.showToast({title:"请重新获取二维码",icon:"none"})},goShare:function(e){var i=this;t("log",e," at pages/showCode.vue:316");var n="";"WXSceneSession"==e?n="WXSceneSession":"WXSenceTimeline"==e&&(n="WXSenceTimeline"),uni.share({provider:"weixin",scene:n,type:0,href:this.codeList.share_link,title:"子诺新微金",summary:"我正在使用子诺新微金，赶紧跟我一起来体验！",imageUrl:" ",success:function(t){i.showIs="1"},fail:function(t){}})},getPageUrl:function(){var t=getCurrentPages();t=t[t.length-1];var e=t.route,i=t.options,n="?";for(var o in i)n+=o,n+="=",n+=i[o],n+="&";return n=n.substring(0,n.length-1),e+=n,e},again:function(){this.getCode()}}});e.default=s}).call(this,i("0de9")["log"])},"8b23":function(t,e,i){var n=i("0531");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("38ccaccc",n,!0,{sourceMap:!1,shadowMode:!1})},af74:function(t,e,i){"use strict";i.r(e);var n=i("82de"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a}}]);