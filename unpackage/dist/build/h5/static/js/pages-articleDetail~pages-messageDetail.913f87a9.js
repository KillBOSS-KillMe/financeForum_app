(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-articleDetail~pages-messageDetail"],{"1fc5":function(t,e,i){"use strict";var r=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("28a5");var n=r(i("59ad"));i("a481");var a=r(i("5d73"));i("4917"),i("6762"),i("2fdb");var o=i("bd2e"),s={name:"parser",data:function(){return{uid:this._uid,scaleAnimation:"",showAnimation:"",nodes:[],imgs:[]}},props:{html:null,autopause:{type:Boolean,default:!0},autosetTitle:{type:Boolean,default:!0},domain:String,editable:Boolean,gestureZoom:Boolean,lazyLoad:Boolean,selectable:Boolean,tagStyle:Object,showWithAnimation:Boolean,useAnchor:Boolean,useCache:Boolean},watch:{html:function(t){this.setContent(t,!0)}},mounted:function(){this.imgList=[],this.imgList.each=function(t){for(var e=0;e<this.length;e++){var i=t(this[e],e,this);i&&this.setItem(e,i)}},this.imgList.setItem=function(t,e){if(e){if(e.includes("http")&&this.includes(e)){for(var i,r="",n=0;i=e[n];n++)if(r+=Math.random()>.5?i.toUpperCase():i,"/"==i&&"/"!=e[n-1]&&"/"!=e[n+1])break;return r+=e.substring(n+1),this[t]=r}if(this[t]=e,e.includes("data:image")){var a=e.match(/data:image\/(\S+?);(\S+?),(.+)/);if(!a)return}}},this.nodes.length||this.setContent(this.html,!0)},beforeDestroy:function(){this._observer&&this._observer.disconnect(),this.imgList.each(function(t){}),clearInterval(this.interval)},methods:{Dom2Str:function(t){var e="",i=!0,r=!1,n=void 0;try{for(var o,s=(0,a.default)(t);!(i=(o=s.next()).done);i=!0){var l=o.value;if("text"==l.type)e+=l.text;else{for(var c in e+="<"+l.name,l.attrs||{})e+=" "+c+'="'+l.attrs[c]+'"';l.children&&l.children.length?e+=">"+this.Dom2Str(l.children)+"</"+l.name+">":e+="/>"}}}catch(u){r=!0,n=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw n}}return e},setContent:function(t,e){var i=this;if(t){"string"!=typeof t&&(t=this.Dom2Str(t.nodes||t)),t.includes("rpx")&&(t=t.replace(/[0-9.]*rpx/g,function(t){return(0,n.default)(t)*o.screenWidth/750+"px"}));var r="<style scoped>@keyframes show{0%{opacity:0}100%{opacity:1}}";for(var s in o.userAgentStyles)r+=s+"{"+o.userAgentStyles[s]+"}";for(var s in this.tagStyle)r+=s+"{"+this.tagStyle[s]+"}";r+="</style>",t=r+t,this.rtf&&this.rtf.parentNode.removeChild(this.rtf),this.rtf=document.createElement("div"),this.rtf.innerHTML=t;var l=!0,c=!1,u=void 0;try{for(var d,h=(0,a.default)(this.rtf.getElementsByTagName("style"));!(l=(d=h.next()).done);l=!0){r=d.value;r.innerHTML=r.innerHTML.replace(/\s*body/g,"#rtf"+this._uid),r.setAttribute("scoped","true")}}catch(Y){c=!0,u=Y}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}this.lazyLoad&&IntersectionObserver&&(this._observer&&this._observer.disconnect(),this._observer=new IntersectionObserver(function(t){var e=!0,r=!1,n=void 0;try{for(var o,s=(0,a.default)(t);!(e=(o=s.next()).done);e=!0){var l=o.value;l.isIntersecting&&(l.target.src=l.target.getAttribute("data-src"),l.target.removeAttribute("data-src"),i._observer.unobserve(l.target))}}catch(Y){r=!0,n=Y}finally{try{e||null==s.return||s.return()}finally{if(r)throw n}}},{rootMargin:"900px 0px 900px 0px"}));var f=this,m=this.rtf.getElementsByTagName("title");m.length&&this.autosetTitle&&uni.setNavigationBarTitle({title:m[0].innerText}),this.imgList.length=0;for(var g,p=this.rtf.getElementsByTagName("img"),v=0,b=0;g=p[v];v++)g.style.maxWidth="100%",this.domain&&"/"==g.getAttribute("src")[0]&&("/"==g.getAttribute("src")[1]?g.src=(this.domain.includes("://")?this.domain.split("://")[0]:"http")+":"+g.getAttribute("src"):g.src=this.domain+g.getAttribute("src")),g.hasAttribute("ignore")||"A"==g.parentElement.nodeName||(g.i=b++,f.imgList.push(g.src),g.onclick=function(){var t=!0;this.ignore=function(){return t=!1},f.$emit("imgtap",this),t&&uni.previewImage({current:this.i,urls:f.imgList})}),g.onerror=function(){f.$emit("error",{source:"img",target:this})},f.lazyLoad&&this._observer&&0!=g.i&&(g.setAttribute("data-src",g.src),g.removeAttribute("src"),this._observer.observe(g));var y=this.rtf.getElementsByTagName("a"),x=!0,w=!1,T=void 0;try{for(var A,_=(0,a.default)(y);!(x=(A=_.next()).done);x=!0){var k=A.value;k.onclick=function(t){var e=!0,i=this.getAttribute("href");if(f.$emit("linkpress",{href:i,ignore:function(){return e=!1}}),e&&i)if("#"==i[0])f.useAnchor&&f.navigateTo({id:i.substring(1)});else{if(0==i.indexOf("http")||0==i.indexOf("//"))return!0;uni.navigateTo({url:i})}return!1}}}catch(Y){w=!0,T=Y}finally{try{x||null==_.return||_.return()}finally{if(w)throw T}}var S=this.rtf.getElementsByTagName("video");f.videoContexts=S;var C=!0,M=!1,X=void 0;try{for(var L,B=(0,a.default)(S);!(C=(L=B.next()).done);C=!0){var E=L.value;E.style.maxWidth="100%",E.onerror=function(){f.$emit("error",{source:"video",target:this})},E.onplay=function(){if(f.autopause){var t=!0,e=!1,i=void 0;try{for(var r,n=(0,a.default)(f.videoContexts);!(t=(r=n.next()).done);t=!0){var o=r.value;o!=this&&o.pause()}}catch(Y){e=!0,i=Y}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}}}}}catch(Y){M=!0,X=Y}finally{try{C||null==B.return||B.return()}finally{if(M)throw X}}var I,z=this.rtf.getElementsByTagName("audios"),N=!0,O=!1,$=void 0;try{for(var D,W=(0,a.default)(z);!(N=(D=W.next()).done);N=!0){var H=D.value;H.onerror=function(t){f.$emit("error",{source:"audio",target:this})}}}catch(Y){O=!0,$=Y}finally{try{N||null==W.return||W.return()}finally{if(O)throw $}}document.getElementById("rtf"+this._uid).appendChild(this.rtf),this.document=this.rtf,this.$nextTick(function(){i.nodes=[1],i.$emit("load")}),setTimeout(function(){return i.showAnimation=""},500),this.interval=setInterval(function(){var t=[i.rtf.getBoundingClientRect()];i.createSelectorQuery(),i.width=t[0].width,t[0].height==I&&(i.$emit("ready",t[0]),clearInterval(i.interval)),I=t[0].height},350),this.showWithAnimation&&(this.showAnimation="animation:show .5s")}else this.rtf&&this.rtf.parentNode.removeChild(this.rtf)},getText:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.html||this.nodes;return this.rtf.innerText},navigateTo:function(t){if(!this.useAnchor)return t.fail&&t.fail({errMsg:"Anchor is disabled"});if(!t.id)return window.scrollTo(0,this.rtf.offsetTop),t.success&&t.success({errMsg:"pageScrollTo:ok"});var e=document.getElementById(t.id);if(!e)return t.fail&&t.fail({errMsg:"Label not found"});t.scrollTop=this.rtf.offsetTop+e.offsetTop,uni.pageScrollTo(t)},getVideoContext:function(t){if(!t)return this.videoContexts;for(var e=this.videoContexts.length;e--;)if(this.videoContexts[e].id==t)return this.videoContexts[e];return null},preLoad:function(t,e){t.constructor==Array&&(t=this.Dom2Str(t));var i=document.createElement("div");i.innerHTML=t;for(var r=i.querySelectorAll("img"),n=r.length-1;n>=e;n--)r[n].removeAttribute("src")},_load:function(t){},_tap:function(t){if(this.gestureZoom&&t.timeStamp-this.lastTime<300){if(this.zoomIn)this.animation.translateX(0).scale(1).step(),uni.pageScrollTo({scrollTop:(t.touches[0].pageY-t.currentTarget.offsetTop+this.initY)/2-t.touches[0].clientY,duration:400});else{var e=t.touches[0].pageX-t.currentTarget.offsetLeft;this.initY=t.touches[0].pageY-t.currentTarget.offsetTop,this.animation=uni.createAnimation({transformOrigin:"".concat(e,"px ").concat(this.initY,"px 0"),timingFunction:"ease-in-out"}),this.animation.scale(2).step(),this.tMax=e/2,this.tMin=(e-this.width)/2,this.tX=0}this.zoomIn=!this.zoomIn,this.scaleAnimation=this.animation.export()}this.lastTime=t.timeStamp},_touchstart:function(t){1==t.touches.length&&(this.initX=this.lastX=t.touches[0].pageX)},_touchmove:function(t){var e=t.touches[0].pageX-this.lastX;if(this.zoomIn&&1==t.touches.length&&Math.abs(e)>20){if(this.lastX=t.touches[0].pageX,this.tX<=this.tMin&&e<0||this.tX>=this.tMax&&e>0)return;this.tX+=e*Math.abs(this.lastX-this.initX)*.05,this.tX<this.tMin&&(this.tX=this.tMin),this.tX>this.tMax&&(this.tX=this.tMax),this.animation.translateX(this.tX).step(),this.scaleAnimation=this.animation.export()}}}};e.default=s},"24d2":function(t,e,i){var r=i("cb6a");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("4f06").default;n("e1e396e4",r,!0,{sourceMap:!1,shadowMode:!1})},"469f":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("7d7b")},"5d73":function(t,e,i){t.exports=i("469f")},"7d7b":function(t,e,i){var r=i("e4ae"),n=i("7cd6");t.exports=i("584a").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},"91c6":function(t,e,i){"use strict";var r=i("24d2"),n=i.n(r);n.a},bd2e:function(t,e,i){"use strict";var r=i("288e");i("a481"),i("6762"),i("2fdb");var n=r(i("59ad"));i("6b54");var a=r(i("e814"));function o(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e,r=t.split(","),n=r.length;n--;)i[r[n]]=!0;return i}i("4917"),i("28a5");var s=o("align,allowfullscreen,alt,app-id,appid,apid,author,autoplay,border,cellpadding,cellspacing,class,color,colspan,controls,data-src,dir,face,frameborder,height,href,id,ignore,loop,media,muted,name,path,poster,rowspan,size,span,src,start,style,type,unit-id,unitId,width,xmlns"),l=o("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,u,ul,video"),c=o("address,article,aside,body,center,cite,footer,header,html,nav,pre,section"),u=o("area,base,basefont,canvas,circle,command,ellipse,frame,head,input,isindex,keygen,line,link,map,meta,param,path,polygon,rect,script,source,svg,textarea,track,use,wbr,embed,iframe"),d=o("a,colgroup,fieldset,legend,picture,table,tbody,td,tfoot,th,thead,tr"),h=o("area,base,basefont,br,col,circle,ellipse,embed,frame,hr,img,input,isindex,keygen,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),f=o(" , ,\t,\r,\n,\f"),m={a:"color:#366092;word-break:break-all;padding:1.5px 0 1.5px 0",address:"font-style:italic",big:"display:inline;font-size:1.2em",blockquote:"background-color:#f6f6f6;border-left:3px solid #dbdbdb;color:#6c6c6c;padding:5px 0 5px 10px",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",img:"max-width:100%",mark:"background-color:yellow",picture:"max-width:100%",pre:"font-family:monospace;white-space:pre;overflow:scroll",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",u:"text-decoration:underline"},g=wx.getSystemInfoSync().screenWidth;function p(t){for(var e=t._STACK.length;e--;){if(d[t._STACK[e].name])return!1;t._STACK[e].c=1}return!0}c.caption=!0,t.exports={highlight:null,LabelHandler:function(t,e){var i=t.attrs,r=e.CssHandler.match(t.name,i,t)+(i.style||"");switch(t.name){case"div":case"p":i.align&&(r="text-align:".concat(i.align,";").concat(r),i.align=void 0);break;case"img":i["data-src"]&&(i.src=i.src||i["data-src"],i["data-src"]=void 0),i.width&&(0,a.default)(i.width)>g&&(r+=";height:auto !important"),i.src&&!i.ignore&&(p(e)?i.i=(e._imgNum++).toString():i.ignore="T");break;case"a":case"ad":p(e);break;case"font":if(i.color&&(r="color:".concat(i.color,";").concat(r),i.color=void 0),i.face&&(r="font-family:".concat(i.face,";").concat(r),i.face=void 0),i.size){var o=(0,a.default)(i.size);o<1?o=1:o>7&&(o=7);var s=["xx-small","x-small","small","medium","large","x-large","xx-large"];r="font-size:".concat(s[o-1],";").concat(r),i.size=void 0}break;case"video":case"audio":i.id?e["_".concat(t.name,"Num")]++:i.id=t.name+ ++e["_".concat(t.name,"Num")],"video"==t.name&&(i.width&&(r="width:".concat((0,n.default)(i.width)+i.width.includes("%")?"%":"px",";").concat(r),i.width=void 0),i.height&&(r="height:".concat((0,n.default)(i.height)+i.height.includes("%")?"%":"px",";").concat(r),i.height=void 0),e._videoNum>3&&(t.lazyLoad=!0)),i.source=[],i.src&&i.source.push(i.src),i.controls||i.autoplay||console.warn("存在没有 controls 属性的 ".concat(t.name," 标签，可能导致无法播放"),t),p(e);break;case"source":var l=e._STACK[e._STACK.length-1];if(!l||!i.src)break;if("video"==l.name||"audio"==l.name)l.attrs.source.push(i.src);else{var c=i.media;"picture"==l.name&&!l.attrs.src&&(!c||c.includes("px")&&(-1!=(h=c.indexOf("min-width"))&&-1!=(h=c.indexOf(":",h+8))&&g>(0,a.default)(c.substring(h+1))||-1!=(h=c.indexOf("max-width"))&&-1!=(h=c.indexOf(":",h+8))&&g<(0,a.default)(c.substring(h+1))))&&(l.attrs.src=i.src)}}var u=r.split(";"),d={};r="";for(var h=0,m=u.length;h<m;h++){var v=u[h].split(":");if(!(v.length<2)){var b=v[0].trim().toLowerCase(),y=v.slice(1).join(":").trim();if(y.includes("url")){var x=y.indexOf("(");if(-1!=x++){while('"'==y[x]||"'"==y[x]||f[y[x]])x++;"/"==y[x]&&("/"==y[x+1]?y=y.substring(0,x)+e._protocol+":"+y.substring(x):e._domain&&(y=y.substring(0,x)+e._domain+y.substring(x)))}}else y.includes("rpx")&&(y=y.replace(/[0-9.]*rpx/g,function(t){return(0,n.default)(t)*g/750+"px"}));y.includes("-webkit")||y.includes("-moz")||y.includes("-ms")||y.includes("-o")||y.includes("safe")?r+=";".concat(b,":").concat(y):d[b]&&!y.includes("import")&&d[b].includes("import")||(d[b]=y)}}for(var b in"img"==t.name&&d.width&&d.width.includes("%")&&(0,a.default)(d.width)>g&&(d.height="auto !important"),d)r+=";".concat(b,":").concat(d[b]);r=r.substr(1),r&&(i.style=r),e._useAnchor&&i.id&&p(e)},trustAttrs:s,trustTags:l,blockTags:c,ignoreTags:u,selfClosingTags:h,blankChar:f,userAgentStyles:m,screenWidth:g}},cb6a:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"@-webkit-keyframes show-data-v-46de65cf{0%{opacity:0}100%{opacity:1}}@keyframes show-data-v-46de65cf{0%{opacity:0}100%{opacity:1}}\n\n",""])},def7:function(t,e,i){"use strict";i.r(e);var r=i("ed47"),n=i("fafb");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("91c6");var o,s=i("f0c5"),l=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"46de65cf",null,!1,r["a"],o);e["default"]=l.exports},ed47:function(t,e,i){"use strict";var r,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{display:"inherit"}},[t.nodes.length?t._e():t._t("default"),i("v-uni-view",{staticClass:"_top",style:t.showAnimation+(t.selectable?";user-select:text;-webkit-user-select:text":""),attrs:{animation:t.scaleAnimation},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t._touchstart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t._touchmove.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t._tap.apply(void 0,arguments)}}},[i("div",{attrs:{id:"rtf"+t.uid,contentEditable:t.editable}})]),t._l(t.imgs,function(e,r){return i("v-uni-image",{key:r,attrs:{id:r,src:e,hidden:!0},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t._load.apply(void 0,arguments)}}})})],2)},a=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return r})},fafb:function(t,e,i){"use strict";i.r(e);var r=i("1fc5"),n=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);e["default"]=n.a}}]);