(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shareCode"],{"19a4":function(e,t,i){"use strict";i.r(t);var n=i("adfa"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},2696:function(e,t,i){var n=i("fced");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("dfa71ec8",n,!0,{sourceMap:!1,shadowMode:!1})},3353:function(e,t,i){"use strict";var n=i("2696"),o=i.n(n);o.a},adfa:function(e,t,i){"use strict";(function(e){var n=i("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("a3a0")),a=n(i("a78d")),s=(i("24e8"),getApp(),{data:function(){return{bottomData:[{text:"微信好友",type:"WXSceneSession",icon:"iconweixin"},{text:"朋友圈",type:"WXSenceTimeline",icon:"iconpengyouquan"}],codeType:"",codeList:{},showIs:"0",openSettingBtnHidden:!0,imgUrl:"",bj:"../static/erweimaImg.png",wWidth:"",wHeight:"",token:""}},components:{uniPopup:a.default},onLoad:function(t){var i=this;this.token=uni.getStorageSync("token"),e("log",t,"--------------------------------"," at pages\\shareCode.vue:102"),this.codeType=t.type,this.imgUrl=o.default.imgUrl,"1"==this.codeType&&this.getCode(),uni.getSystemInfo({success:function(t){i.wWidth=t.windowWidth,e("log",i.wWidth," at pages\\shareCode.vue:111"),i.wHeight=t.windowHeight}})},onShareAppMessage:function(){e("log",123," at pages\\shareCode.vue:118")},shareFriend:function(){this.goShare("WXSceneSession")},shareFriendcricle:function(){this.goShare("WXSenceTimeline")},methods:{quickInlet:function(e){2==e?this.$refs.showshare.open():1==e&&this.getList()},handleSetting:function(t){e("log",t," at pages\\shareCode.vue:147"),t.detail.authSetting["scope.writePhotosAlbum"]?this.openSettingBtnHidden=!0:this.openSettingBtnHidden=!1},saveEwm:function(){var e=this;uni.getSetting({success:function(t){t.authSetting["scope.writePhotosAlbum"]?e.saveImgToLocal():uni.authorize({scope:"scope.writePhotosAlbum",success:function(){e.saveImgToLocal()},fail:function(){e.openSettingBtnHidden=!1}})}})},saveImgToLocal:function(){var t=this;uni.showModal({title:"提示",content:"确定保存到相册吗",success:function(i){if(i.confirm){var n=t,o=(uni.getSystemInfoSync(),uni.createCanvasContext("mycanvas"));uni.getImageInfo({src:n.codeList.faceurl,success:function(t){e("log",t," at pages\\shareCode.vue:192"),o.drawImage(n.bj,0,0,n.wWidth,n.wHeight),o.drawImage(t.path,n.wWidth/2-80,n.wHeight/2-160,160,160),o.draw(!0,(function(){uni.canvasToTempFilePath({x:0,y:0,width:n.wWidth,height:n.wHeight,destWidth:n.wWidth,destHeight:n.wHeight,canvasId:"mycanvas",success:function(e){uni.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){uni.showToast({title:"图片保存成功～"})},fail:function(e){},complete:function(){uni.hideLoading()}})},fail:function(e){uni.showToast({title:"保存失败",icon:"none"})}})}))}})}else i.cancel&&uni.showToast({title:"取消成功",icon:"none"})}})},getCode:function(){var t=this;uni.request({url:"".concat(o.default.requestUrl,"/promote-showmycode"),method:"GET",header:{authorization:this.token},success:function(i){i=o.default.null2str(i),e("log",i,"---"," at pages\\shareCode.vue:252"),-1==i.data.code?(uni.showToast({title:i.data.tip_msg,icon:"none"}),setTimeout((function(e){uni.navigateBack({delta:1})}),2e3)):(t.codeList=i.data,t.showIs="0",e("log",t.codeList.face,"*"," at pages\\shareCode.vue:266"))}})},getList:function(){uni.request({url:"".concat(o.default.requestUrl,"/promote-getmycode"),method:"GET",header:{authorization:this.token},success:function(t){t=o.default.null2str(t),e("log",t,"++++"," at pages\\shareCode.vue:282"),0==t.data.code?(uni.showToast({title:t.data.tip_msg,icon:"none"}),setTimeout((function(e){uni.navigateBack({delta:2})}),2e3)):(uni.showToast({title:t.data.tip_msg,icon:"none"}),setTimeout((function(e){uni.navigateBack({delta:1})}),2e3))}})},cancel:function(e){this.$refs["show"+e].close()},des:function(){uni.showToast({title:"请重新获取二维码",icon:"none"})},goShare:function(t){var i=this;e("log",t," at pages\\shareCode.vue:317");var n="";"WXSceneSession"==t?n="WXSceneSession":"WXSenceTimeline"==t&&(n="WXSenceTimeline"),uni.share({provider:"weixin",scene:n,type:0,href:this.codeList.share_link,title:"子诺新微金",summary:"我正在使用子诺新微金，赶紧跟我一起来体验！",imageUrl:" ",success:function(e){i.showIs="1"},fail:function(e){}})},getPageUrl:function(){var e=getCurrentPages();e=e[e.length-1];var t=e.route,i=e.options,n="?";for(var o in i)n+=o,n+="=",n+=i[o],n+="&";return n=n.substring(0,n.length-1),t+=n,t},again:function(){this.getCode()}}});t.default=s}).call(this,i("0de9")["log"])},cc25:function(e,t,i){"use strict";i.r(t);var n=i("e8a5"),o=i("19a4");for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("3353");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"eb5550b8",null,!1,n["a"],s);t["default"]=r.exports},e8a5:function(e,t,i){"use strict";var n,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"shareCode"},[n("v-uni-image",{staticClass:"bg",attrs:{src:i("b7f2").substr(1),mode:""}}),n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"head"},[e._v("子诺新微金推广二维码")]),n("v-uni-view",{staticClass:"con"},["显示二维码"==e.codeList.msg_log?n("v-uni-image",{attrs:{src:e.codeList.face,mode:""}}):n("v-uni-image",{attrs:{src:i("0829").substr(1),mode:""}}),n("v-uni-text",[e._v("注:推广二维码仅限一次，分享后需要刷新")]),"0"==e.codeType?n("v-uni-button",{staticClass:"submit",attrs:{type:""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.quickInlet(1)}}},[e._v("提交开通申请")]):e._e(),"1"==e.codeType?n("v-uni-view",[n("v-uni-view")],1):e._e()],1),n("uni-popup",{ref:"showshare",staticClass:"meShare",attrs:{type:"bottom"},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{staticClass:"uni-share"},[n("v-uni-text",{staticClass:"uni-share-title"},[e._v("分享到")]),n("v-uni-view",{staticClass:"uni-share-content"}),n("v-uni-text",{staticClass:"uni-share-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel("share")}}},[e._v("取消分享")])],1)],1),"显示二维码"!=e.codeList.msg_log?n("v-uni-view",{staticClass:"modelShow"},[n("v-uni-view",{staticClass:"zhezhao"}),n("v-uni-text",[e._v("请获取二维码")])],1):e._e(),"1"==e.showIs?n("v-uni-view",{staticClass:"modelShow"},[n("v-uni-view",{staticClass:"zhezhao"}),n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.again.apply(void 0,arguments)}}},[e._v("请重新获取二维码")])],1):e._e()],1),n("v-uni-canvas",{staticClass:"test",style:"width:"+e.wWidth+"px;height:"+e.wHeight+"px",attrs:{"canvas-id":"mycanvas"}})],1)},a=[];i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}))},fced:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'.shareCode[data-v-eb5550b8]{width:%?750?%;height:100vh;overflow:hidden;position:relative}.bg[data-v-eb5550b8]{width:%?750?%;height:100vh;overflow:hidden}.content[data-v-eb5550b8]{position:absolute;top:%?80?%;left:50%;margin-left:%?-276?%;z-index:6;width:%?552?%;background:#fff;border:%?1?% solid #fff;border-radius:%?14?%;padding:0 0 %?60?% 0}.content .head[data-v-eb5550b8]{font-size:%?28?%;font-weight:700;color:#333;text-align:center;border-bottom:%?2?% dashed #dcdcdc;padding:%?24?% 0}.content .head[data-v-eb5550b8]::after{content:"";display:block;width:%?20?%;height:%?40?%;background:#2390dc;border-radius:0 %?50?% %?50?% 0;position:absolute;top:%?66?%;left:%?-2?%}.content .head[data-v-eb5550b8]::before{content:"";display:block;width:%?20?%;height:%?40?%;background:#2390dc;border-radius:%?50?% 0 0 %?50?%;position:absolute;top:%?66?%;right:%?-2?%}.con[data-v-eb5550b8]{margin-top:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.con uni-image[data-v-eb5550b8]{width:%?416?%;height:%?420?%;border:1px solid #fff}.con uni-text[data-v-eb5550b8]{font-size:%?20?%;font-weight:700;color:#666;margin:%?30?% 0 %?40?%}.con .submit[data-v-eb5550b8]{width:%?420?%;height:%?50?%;line-height:%?50?%;background:#2390dc;-webkit-box-shadow:%?0?% %?10?% %?45?% %?0?% rgba(35,144,220,.6);box-shadow:%?0?% %?10?% %?45?% %?0?% rgba(35,144,220,.6);border:none;color:#fff;font-size:%?24?%;font-weight:700;letter-spacing:%?1?%;border-radius:%?30?%}.meShare[data-v-eb5550b8]{width:%?750?%;position:fixed;z-index:99;bottom:0;left:0}\r\n/* 底部分享 */.uni-share[data-v-eb5550b8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background-color:#fff}.uni-share-title[data-v-eb5550b8]{line-height:%?60?%;font-size:%?24?%;padding:%?15?% 0;text-align:center}.uni-share-content[data-v-eb5550b8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:15px}.uni-share-content-box[data-v-eb5550b8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?200?%}.uni-share-content-image[data-v-eb5550b8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?70?%;height:%?70?%;overflow:hidden;border-radius:%?10?%}.uni-share-content-image .iconfont[data-v-eb5550b8]{font-size:%?60?%;color:#07c160}.content-image[data-v-eb5550b8]{width:%?60?%;height:%?60?%}.uni-share-content-text[data-v-eb5550b8]{font-size:%?26?%;color:#333;padding-top:5px;padding-bottom:10px}.uni-share-btn[data-v-eb5550b8]{height:%?90?%;line-height:%?90?%;font-size:%?32?%;text-align:center;color:#fff;font-weight:700;background:#2390dc}.share-btn[data-v-eb5550b8]{border:none;background:none}uni-button[data-v-eb5550b8]::after{border:none}\r\n/* 遮罩 */.modelShow[data-v-eb5550b8]{width:%?420?%;height:%?440?%;position:absolute;top:%?126?%;left:50%;margin-left:%?-210?%;z-index:5}.zhezhao[data-v-eb5550b8]{width:%?420?%;height:%?440?%;background-color:#fff;opacity:.7;position:absolute}.modelShow uni-text[data-v-eb5550b8]{width:%?420?%;font-size:%?24?%;font-weight:700;color:#333;letter-spacing:1px;height:%?440?%;line-height:%?440?%;position:absolute;left:50%;margin-left:%?-70?%;z-index:6}.purple_btn[data-v-eb5550b8]{font-size:%?28?%;text-align:center;width:%?300?%;margin:0 auto 0;height:%?60?%;line-height:%?60?%\r\n\t/* border: 1rpx solid #C0C0C0; */}',""]),e.exports=t}}]);