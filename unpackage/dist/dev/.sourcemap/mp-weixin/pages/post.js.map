{"version":3,"sources":["webpack:///D:/work/financeForum_app/pages/post.vue?63dc","webpack:///D:/work/financeForum_app/pages/post.vue","webpack:///D:/work/financeForum_app/pages/post.vue?d697","webpack:///D:/work/financeForum_app/pages/post.vue?4b6b","webpack:///D:/work/financeForum_app/main.js","webpack:///D:/work/financeForum_app/pages/post.vue?0eeb","webpack:///D:/work/financeForum_app/pages/post.vue?a552","webpack:///D:/work/financeForum_app/pages/post.vue?be5c"],"names":["app","getApp","data","formNode","title","content","board_id","topic_id","onLoad","e","console","log","id","name","methods","getPhoto","uni","chooseImage","count","sizeType","sourceType","success","res","showToast","icon","Promise","all","tempFiles","map","item","resolve","reject","uploadFile","url","helper","requestUrl","filePath","path","header","authorization","globalData","token","JSON","parse","then","hideToast","imgInfo","catch","err","onEditorReady","createSelectorQuery","select","context","editorContext","insertImage","src","exec","contentChange","detail","inputValue","currentTarget","dataset","value","post","request","method","hideLoading","null2str","status_code","message","createPage","Page"],"mappings":"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","file":"pages/post.js","sourcesContent":["import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst app = getApp()\nimport helper from '../common/helper.js';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tformNode: {\n\t\t\t\ttitle: '',\n\t\t\t\tcontent: '',\n\t\t\t\tboard_id: '',\n\t\t\t\ttopic_id: ''\n\t\t\t}\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tconsole.log(e);\n\t\tthis.formNode.board_id = e.id;\n\t\tthis.name = e.name;\n\t},\n\tmethods: {\n\t\t// 上传图片\n\t\tgetPhoto() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '图片上传中',\n\t\t\t\t\t\ticon: 'loading'\n\t\t\t\t\t});\n\t\t\t\t\tPromise.all(\n\t\t\t\t\t\tres.tempFiles.map(item => {\n\t\t\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\t\t\turl: `${helper.requestUrl}/posts/uploads`,\n\t\t\t\t\t\t\t\t\tfilePath: item.path,\n\t\t\t\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\tauthorization: app.globalData.token\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\t\t\tpath: JSON.parse(res.data).data\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t).then(e => {\n\t\t\t\t\t\tuni.hideToast();\n\t\t\t\t\t\tthis.imgInfo = e[0].path;\n\t\t\t\t\t\tconsole.log(this.imgInfo, '图片')\n\t\t\t\t\t}).catch(err => console.log(err));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tonEditorReady() {\n\t\t\tconsole.log(this.imgInfo, '****')\n\t\t\tuni.createSelectorQuery().select('#editor').context((res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.editorContext.insertImage({\n\t\t\t\t\tsrc: this.imgInfo.path,\n\t\t\t\t})\n\t\t\t\t// this.editorCtx.setContents({\n\t\t\t\t// \thtml:that.info.gongsijieshao,\n\t\t\t\t// \tsuccess:(res)=> {\n\t\t\t\t// \t\tconsole.log(res)\n\t\t\t\t// \t},\n\t\t\t\t// \tfail:(res)=> {\n\t\t\t\t// \t\tconsole.log(res)\n\t\t\t\t// \t\t},\n\t\t\t\t// })\n\t\t\t\t// this.editorCtx = res.context\n\t\t\t\t// this.editorCtx.insertImage({\n\t\t\t\t//   src: this.imgInfo.path\n\t\t\t\t// })\n\t\t\t\t// console.log(this.editorCtx)\n\t\t\t}).exec()\n\t\t},\n\t\tcontentChange(e) {\n\t\t\tconsole.log(e.detail);\n\t\t},\n\t\tinputValue(e) {\n\t\t\tlet formNode = this.formNode\n\t\t\tlet name = e.currentTarget.dataset.name\n\t\t\tlet value = e.detail.value\n\t\t\tformNode[name] = value\n\t\t\tthis.formNode = formNode\n\t\t},\n\t\t// 发帖\n\t\tpost() {\n\t\t\tuni.request({\n\t\t\t\turl: `${helper.requestUrl}/posts/send`,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\tauthorization: app.globalData.token\n\t\t\t\t},\n\t\t\t\tdata: this.formNode,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tres = helper.null2str(res)\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif (res.data.status_code == '200') {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message,\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/post.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./post.vue?vue&type=template&id=80e85abe&\"\nimport script from \"./post.vue?vue&type=script&lang=js&\"\nexport * from \"./post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('80e85abe', component.options)\n    } else {\n      api.reload('80e85abe', component.options)\n    }\n    module.hot.accept(\"./post.vue?vue&type=template&id=80e85abe&\", function () {\n      api.rerender('80e85abe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/financeForum_app/pages/post.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=template&id=80e85abe&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}