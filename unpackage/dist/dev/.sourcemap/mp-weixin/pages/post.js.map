{"version":3,"sources":["webpack:///D:/work/financeForum_app/pages/post.vue?ec1a","webpack:///D:/work/financeForum_app/pages/post.vue","webpack:///D:/work/financeForum_app/pages/post.vue?bb84","webpack:///D:/work/financeForum_app/pages/post.vue?c15e","webpack:///D:/work/financeForum_app/main.js","webpack:///D:/work/financeForum_app/pages/post.vue?8be3","webpack:///D:/work/financeForum_app/pages/post.vue?58ca","webpack:///D:/work/financeForum_app/pages/post.vue?0eef"],"names":["app","getApp","recorderManager","uni","getRecorderManager","innerAudioContext","createInnerAudioContext","autoplay","data","formNode","title","content","board_id","topic_id","city_id","readOnly","formats","voicePath","htmlCon","options","onLoad","type","id","loadFontFace","family","source","onStop","res","console","log","JSON","stringify","tempFilePath","upVoice","methods","submit","editorCtx","getContents","success","html","upData","showToast","showLoading","duration","request","url","helper","requestUrl","method","header","authorization","globalData","token","voice","hideLoading","null2str","status_code","message","icon","setTimeout","navigateBack","delta","getTitle","e","detail","value","startRecord","start","endRecord","hideToast","stop","playVoice","src","play","uploadFile","filePath","name","parse","path","readOnlyChange","onEditorReady","createSelectorQuery","select","context","exec","undo","redo","format","target","dataset","onStatusChange","insertDivider","clear","removeFormat","insertDate","date","Date","formatDate","getFullYear","getMonth","getDate","insertText","text","insertImage","chooseImage","count","Promise","all","tempFiles","map","item","resolve","reject","then","alt","catch","err","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAklB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwFtmB,yF,8FAxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMA,GAAG,GAAGC,MAAM,EAAlB,C,CAEA;AACA,IAAMC,eAAe,GAAGC,GAAG,CAACC,kBAAJ,EAAxB,CACA,IAAMC,iBAAiB,GAAGF,GAAG,CAACG,uBAAJ,EAA1B,CACAD,iBAAiB,CAACE,QAAlB,GAA6B,IAA7B,C,CACA;eACe,EACdC,IADc,kBACP,CACN,OAAO,EACNC,QAAQ,EAAE,EACTC,KAAK,EAAE,EADE,EAETC,OAAO,EAAE,EAFA,EAGTC,QAAQ,EAAE,EAHD,EAITC,QAAQ,EAAE,EAJD,EAKTC,OAAO,EAAE,EALA,EADJ,EAQNC,QAAQ,EAAE,KARJ,EASNC,OAAO,EAAE,EATH,EAUNN,KAAK,EAAE,EAVD,EAWNO,SAAS,EAAE,EAXL,EAYNC,OAAO,EAAE,EAZH,EAaNC,OAAO,EAAE,IAbH,EAAP,CAeA,CAjBa,EAkBdC,MAlBc,kBAkBPD,OAlBO,EAkBE,kBACf,IAAGA,OAAO,CAACE,IAAR,IAAgB,MAAnB,EAA0B,CACzB,KAAKZ,QAAL,CAAcG,QAAd,GAAyBO,OAAO,CAACG,EAAjC,CACA,CAFD,MAEM,IAAGH,OAAO,CAACE,IAAR,IAAgB,MAAnB,EAA0B,CAC/B,KAAKZ,QAAL,CAAcK,OAAd,GAAwBK,OAAO,CAACG,EAAhC,CACA,CACD,KAAKH,OAAL,GAAeA,OAAf,CANe,CAOf;AACAhB,OAAG,CAACoB,YAAJ,CAAiB,EAChBC,MAAM,EAAE,UADQ,EAEhBC,MAAM,EAAE,6CAFQ,EAAjB,EARe,CAaf;AACAvB,mBAAe,CAACwB,MAAhB,CAAuB,UAAAC,GAAG,EAAI,CAC7B;AACAC,aAAO,CAACC,GAAR,CAAY,kBAAkBC,IAAI,CAACC,SAAL,CAAeJ,GAAf,CAA9B,EACA,KAAI,CAACV,SAAL,GAAiBU,GAAG,CAACK,YAArB,CAH6B,CAI7B;AACA,WAAI,CAACC,OAAL,GACA,CAND,EAOA,CAvCa,EAwCdC,OAAO,EAAE,EACR;AACAC,UAFQ,oBAEC,mBACR,KAAKC,SAAL,CAAeC,WAAf,CAA2B,EAC1BC,OAAO,EAAE,iBAAA9B,IAAI,EAAI,CAChB;AACA;AACA,gBAAI,CAACU,OAAL,GAAeV,IAAI,CAAC+B,IAApB,CAHgB,CAIhB;AACA,gBAAI,CAACC,MAAL,GACA,CAPyB,EAA3B,EASA,CAZO,EAaRA,MAbQ,oBAaC,CACR,IAAI,KAAK9B,KAAL,IAAc,EAAlB,EAAsB,CACrBP,GAAG,CAACsC,SAAJ,CAAc,EACb/B,KAAK,EAAE,OADM,EAAd,EAGA,OAAO,KAAP,CACA,CACD,IAAI,KAAKQ,OAAL,IAAgB,EAApB,EAAwB,CACvBf,GAAG,CAACsC,SAAJ,CAAc,EACb/B,KAAK,EAAE,SADM,EAAd,EAGA,OAAO,KAAP,CACA,CACDP,GAAG,CAACuC,WAAJ,CAAgB,EACdhC,KAAK,EAAE,QADO,EAEfiC,QAAQ,EAAE,OAFK,EAAhB,EAIAxC,GAAG,CAACyC,OAAJ,CAAY,EACXC,GAAG,YAAKC,gBAAOC,UAAZ,gBADQ,EAEXC,MAAM,EAAE,MAFG,EAGXC,MAAM,EAAE,EACPC,aAAa,EAAElD,GAAG,CAACmD,UAAJ,CAAeC,KADvB,EAHG,EAMX5C,IAAI,EAAE,EACLI,QAAQ,EAAE,KAAKH,QAAL,CAAcG,QADnB,EAC8B;AACnCC,kBAAQ,EAAE,EAFL,EAEU;AACfH,eAAK,EAAE,KAAKA,KAHP,EAGe;AACpBC,iBAAO,EAAE,KAAKO,OAJT,EAImB;AACxBmC,eAAK,EAAE,KAAKpC,SALP,EAKmB;AACxBH,iBAAO,EAAE,KAAKL,QAAL,CAAcK,OANlB,EANK,EAcXwB,OAAO,EAAE,iBAAAX,GAAG,EAAI,CACfxB,GAAG,CAACmD,WAAJ,GACA3B,GAAG,GAAGmB,gBAAOS,QAAP,CAAgB5B,GAAhB,CAAN,CACA,IAAIA,GAAG,CAACnB,IAAJ,CAASgD,WAAT,IAAwB,GAA5B,EAAiC,CAChCrD,GAAG,CAACsC,SAAJ,CAAc,EACb/B,KAAK,EAAEiB,GAAG,CAACnB,IAAJ,CAASiD,OADH,EAEbC,IAAI,EAAE,MAFO,EAAd,EAIAC,UAAU,CAAC,YAAM,CAChB;AACAxD,iBAAG,CAACyD,YAAJ,CAAiB,EACbC,KAAK,EAAE,CADM,EAAjB;AAGA,aALS,EAKR,IALQ,CAAV;AAMA,WAXD,MAWO;AACN1D,eAAG,CAACsC,SAAJ,CAAc;AACb/B,mBAAK,EAAEiB,GAAG,CAACnB,IAAJ,CAASiD,OADH,EAAd;;AAGA;;AAED,SAlCU,EAAZ;;AAoCA,KAlEO;AAmER;AACAK,YApEQ,oBAoECC,CApED,EAoEI;AACX,WAAKrD,KAAL,GAAaqD,CAAC,CAACC,MAAF,CAASC,KAAtB;AACA,KAtEO;AAuER;AACAC,eAxEQ,yBAwEM;AACbtC,aAAO,CAACC,GAAR,CAAY,MAAZ;AACA1B,SAAG,CAACsC,SAAJ,CAAc;AACb/B,aAAK,EAAE,QADM;AAEbiC,gBAAQ,EAAE,QAFG;AAGbe,YAAI,EAAE,SAHO,EAAd;;AAKAxD,qBAAe,CAACiE,KAAhB;AACA,KAhFO;AAiFRC,aAjFQ,uBAiFI;AACX;AACAjE,SAAG,CAACkE,SAAJ;AACAlE,SAAG,CAACsC,SAAJ,CAAc;AACb/B,aAAK,EAAE,MADM;AAEbiC,gBAAQ,EAAE,IAFG;AAGbe,YAAI,EAAE,SAHO,EAAd;;AAKAxD,qBAAe,CAACoE,IAAhB;AACA,KA1FO;AA2FRC,aA3FQ,uBA2FI;AACX3C,aAAO,CAACC,GAAR,CAAY,MAAZ;AACA,UAAI,KAAKZ,SAAT,EAAoB;AACnBZ,yBAAiB,CAACmE,GAAlB,GAAwB,KAAKvD,SAA7B;AACAZ,yBAAiB,CAACoE,IAAlB;AACA;AACD,KAjGO;AAkGR;AACAxC,WAnGQ,qBAmGE;AACT;AACA;AACA9B,SAAG,CAACuC,WAAJ,CAAgB;AACdhC,aAAK,EAAE,UADO;AAEfiC,gBAAQ,EAAE,OAFK,EAAhB;;AAIAxC,SAAG,CAACuE,UAAJ,CAAe;AACd7B,WAAG,YAAKC,gBAAOC,UAAZ,mBADW;AAEd4B,gBAAQ,EAAE,KAAK1D,SAFD;AAGd2D,YAAI,EAAE,MAHQ;AAId3B,cAAM,EAAE;AACPC,uBAAa,EAAElD,GAAG,CAACmD,UAAJ,CAAeC,KADvB,EAJM;;AAOdd,eAAO,EAAE,iBAAAX,GAAG,EAAI;AACf;AACAxB,aAAG,CAACmD,WAAJ;AACA3B,aAAG,GAAGmB,gBAAOS,QAAP,CAAgB5B,GAAhB,CAAN;AACAA,aAAG,GAAGG,IAAI,CAAC+C,KAAL,CAAWlD,GAAG,CAACnB,IAAf,CAAN;AACA,cAAImB,GAAG,CAAC6B,WAAJ,IAAmB,GAAvB,EAA4B;AAC3B,kBAAI,CAACvC,SAAL,GAAiBU,GAAG,CAACnB,IAAJ,CAASsE,IAA1B;AACA,WAFD,MAEO;AACN3E,eAAG,CAACsC,SAAJ,CAAc;AACb/B,mBAAK,EAAE,YADM,EAAd;;AAGA;AACD,SAnBa,EAAf;;AAqBA,KA/HO;AAgIR;AACA;AACAqE,kBAlIQ,4BAkIS;AAChB,WAAKhE,QAAL,GAAgB,CAAC,KAAKA,QAAtB;AACA,KApIO;AAqIRiE,iBArIQ,2BAqIQ;AACf7E,SAAG,CAAC8E,mBAAJ,GAA0BC,MAA1B,CAAiC,SAAjC,EAA4CC,OAA5C,CAAoD,UAACxD,GAAD,EAAS;AAC5D;AACA,cAAI,CAACS,SAAL,GAAiBT,GAAG,CAACwD,OAArB;AACA,OAHD,EAGGC,IAHH;AAIA,KA1IO;AA2IRC,QA3IQ,kBA2ID;AACN,WAAKjD,SAAL,CAAeiD,IAAf;AACA,KA7IO;AA8IRC,QA9IQ,kBA8ID;AACN,WAAKlD,SAAL,CAAekD,IAAf;AACA,KAhJO;AAiJRC,UAjJQ,kBAiJDxB,CAjJC,EAiJE;;;;AAILA,OAAC,CAACyB,MAAF,CAASC,OAJJ,CAERb,IAFQ,qBAERA,IAFQ,CAGRX,KAHQ,qBAGRA,KAHQ;AAKT,UAAI,CAACW,IAAL,EAAW;AACX;AACA,WAAKxC,SAAL,CAAemD,MAAf,CAAsBX,IAAtB,EAA4BX,KAA5B;AACA,KAzJO;AA0JRyB,kBA1JQ,0BA0JO3B,CA1JP,EA0JU;AACjB,UAAM/C,OAAO,GAAG+C,CAAC,CAACC,MAAlB;AACA,WAAKhD,OAAL,GAAeA,OAAf;AACA,KA7JO;AA8JR2E,iBA9JQ,2BA8JQ;AACf,WAAKvD,SAAL,CAAeuD,aAAf,CAA6B;AAC5BrD,eAAO,EAAE,mBAAW;AACnB;AACA,SAH2B,EAA7B;;AAKA,KApKO;AAqKRsD,SArKQ,mBAqKA;AACP,WAAKxD,SAAL,CAAewD,KAAf,CAAqB;AACpBtD,eAAO,EAAE,iBAASX,GAAT,EAAc;AACtB;AACA,SAHmB,EAArB;;AAKA,KA3KO;AA4KRkE,gBA5KQ,0BA4KO;AACd,WAAKzD,SAAL,CAAeyD,YAAf;AACA,KA9KO;AA+KRC,cA/KQ,wBA+KK;AACZ,UAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,UAAMC,UAAU,aAAMF,IAAI,CAACG,WAAL,EAAN,cAA4BH,IAAI,CAACI,QAAL,KAAkB,CAA9C,cAAmDJ,IAAI,CAACK,OAAL,EAAnD,CAAhB;AACA,WAAKhE,SAAL,CAAeiE,UAAf,CAA0B;AACzBC,YAAI,EAAEL,UADmB,EAA1B;;AAGA,KArLO;AAsLRM,eAtLQ,yBAsLM;AACbpG,SAAG,CAACqG,WAAJ,CAAgB;AACfC,aAAK,EAAE,CADQ;AAEf;AACA;AACAnE,eAAO,EAAE,iBAAAX,GAAG,EAAI;AACfxB,aAAG,CAACsC,SAAJ,CAAc;AACb/B,iBAAK,EAAE,OADM;AAEbgD,gBAAI,EAAE,SAFO,EAAd;;AAIAgD,iBAAO,CAACC,GAAR;AACChF,aAAG,CAACiF,SAAJ,CAAcC,GAAd,CAAkB,UAAAC,IAAI,EAAI;AACzB,mBAAO,IAAIJ,OAAJ,CAAY,UAACK,OAAD,EAAUC,MAAV,EAAqB;AACvC7G,iBAAG,CAACuE,UAAJ,CAAe;AACd7B,mBAAG,YAAKC,gBAAOC,UAAZ,mBADW;AAEd4B,wBAAQ,EAAEmC,IAAI,CAAChC,IAFD;AAGdF,oBAAI,EAAE,MAHQ;AAId3B,sBAAM,EAAE;AACPC,+BAAa,EAAElD,GAAG,CAACmD,UAAJ,CAAeC,KADvB,EAJM;;AAOdd,uBAAO,EAAE,iBAAAX,GAAG,EAAI;AACf;AACAoF,yBAAO,CAAC;AACPjC,wBAAI,EAAEhD,IAAI,CAAC+C,KAAL,CAAWlD,GAAG,CAACnB,IAAf,EAAqBA,IADpB,EAAD,CAAP;;AAGA,iBAZa,EAAf;;AAcA,aAfM,CAAP;AAgBA,WAjBD,CADD;AAmBEyG,cAnBF,CAmBO,UAAAlD,CAAC,EAAI;AACX5D,eAAG,CAACkE,SAAJ;AACA;AACA;AACA,kBAAI,CAACjC,SAAL,CAAemE,WAAf,CAA2B;AAC1B/B,iBAAG,EAAET,CAAC,CAAC,CAAD,CAAD,CAAKe,IAAL,CAAUA,IADW;AAE1BoC,iBAAG,EAAE,IAFqB;AAG1B5E,qBAAO,EAAE,mBAAW;AACnB;AACA,eALyB,EAA3B;;AAOA,WA9BD,EA8BG6E,KA9BH,CA8BS,UAAAC,GAAG,UAAIxF,OAAO,CAACC,GAAR,CAAYuF,GAAZ,CAAJ,EA9BZ;AA+BA,SAxCc,EAAhB;;AA0CA;AACD;AAlOQ,GAxCK,E;;;;;;;;;;;;;AC9Ff;AAAA;AAAA;AAAA;AAA41B,CAAgB,g2BAAG,EAAC,C;;;;;;;;;;;ACAh3B,uC;;;;;;;;;;;;kDCAA,wCAAmB;;AAEnB;AACA,oF;AACAC,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pages/post.js","sourcesContent":["import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst app = getApp()\nimport helper from '../common/helper.js';\n// 录音部分--开始\nconst recorderManager = uni.getRecorderManager();\nconst innerAudioContext = uni.createInnerAudioContext();\ninnerAudioContext.autoplay = true;\n// 录音部分--结束\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tformNode: {\n\t\t\t\ttitle: '',\n\t\t\t\tcontent: '',\n\t\t\t\tboard_id: '',\n\t\t\t\ttopic_id: '',\n\t\t\t\tcity_id: ''\n\t\t\t},\n\t\t\treadOnly: false,\n\t\t\tformats: {},\n\t\t\ttitle: '',\n\t\t\tvoicePath: '',\n\t\t\thtmlCon: '',\n\t\t\toptions: null\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tif(options.type == '网友交流'){\n\t\t\tthis.formNode.board_id = options.id;\n\t\t}else if(options.type != '网友交流'){\n\t\t\tthis.formNode.city_id = options.id\n\t\t}\n\t\tthis.options = options;\n\t\t// 富文本部分\n\t\tuni.loadFontFace({\n\t\t\tfamily: 'Pacifico',\n\t\t\tsource: 'url(\"https://sungd.github.io/Pacifico.ttf\")'\n\t\t})\n\t\t\n\t\t// 录音部分\n\t\trecorderManager.onStop(res => {\n\t\t\t// 获取音频文件地址\n\t\t\tconsole.log('recorder stop' + JSON.stringify(res));\n\t\t\tthis.voicePath = res.tempFilePath;\n\t\t\t// 上传音频文件\n\t\t\tthis.upVoice()\n\t\t});\n\t},\n\tmethods: {\n\t\t// 数据提交\n\t\tsubmit() {\n\t\t\tthis.editorCtx.getContents({\n\t\t\t\tsuccess: data => {\n\t\t\t\t\t// 获取富文本中的内容\n\t\t\t\t\t// console.log(data.html)\n\t\t\t\t\tthis.htmlCon = data.html\n\t\t\t\t\t// 上传数据\n\t\t\t\t\tthis.upData()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tupData() {\n\t\t\tif (this.title == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入标题'\n\t\t\t\t});\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif (this.htmlCon == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请编辑帖子内容'\n\t\t\t\t});\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tuni.showLoading({\n\t\t\t  title: '发布中...',\n\t\t\t\tduration: 1000000\n\t\t\t});\n\t\t\tuni.request({\n\t\t\t\turl: `${helper.requestUrl}/posts/send`,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\tauthorization: app.globalData.token\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\tboard_id: this.formNode.board_id,  // 模块ID\n\t\t\t\t\ttopic_id: '',  // 主体ID\n\t\t\t\t\ttitle: this.title,  // 帖子标题\n\t\t\t\t\tcontent: this.htmlCon,  // 帖子内容\n\t\t\t\t\tvoice: this.voicePath,  // 录音的文件路径\n\t\t\t\t\tcity_id: this.formNode.city_id\n\t\t\t\t},\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tres = helper.null2str(res)\n\t\t\t\t\tif (res.data.status_code == 200) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// 返回上一页\n\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t    delta: 2\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},3000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取帖子标题\n\t\tgetTitle(e) {\n\t\t\tthis.title = e.detail.value\n\t\t},\n\t\t// |||||||||||||||||||||录音部分--开始|||||||||||||||||||||\n\t\tstartRecord() {\n\t\t\tconsole.log('开始录音');\n\t\t\tuni.showToast({\n\t\t\t\ttitle: \"录音中...\",\n\t\t\t\tduration: 99999999,\n\t\t\t\ticon: 'loading'\n\t\t\t});\n\t\t\trecorderManager.start();\n\t\t},\n\t\tendRecord() {\n\t\t\t// console.log('录音结束');\n\t\t\tuni.hideToast()\n\t\t\tuni.showToast({\n\t\t\t\ttitle: \"结束录音\",\n\t\t\t\tduration: 2000,\n\t\t\t\ticon: 'success'\n\t\t\t});\n\t\t\trecorderManager.stop();\n\t\t},\n\t\tplayVoice() {\n\t\t\tconsole.log('播放录音');\n\t\t\tif (this.voicePath) {\n\t\t\t\tinnerAudioContext.src = this.voicePath;\n\t\t\t\tinnerAudioContext.play();\n\t\t\t}\n\t\t},\n\t\t// 音频上传\n\t\tupVoice() {\n\t\t\t// console.log('=========================================')\n\t\t\t// console.log(this.voicePath)\n\t\t\tuni.showLoading({\n\t\t\t  title: '语音上传中...',\n\t\t\t\tduration: 1000000\n\t\t\t});\n\t\t\tuni.uploadFile({\n\t\t\t\turl: `${helper.requestUrl}/posts/uploads`,\n\t\t\t\tfilePath: this.voicePath,\n\t\t\t\tname: 'file',\n\t\t\t\theader: {\n\t\t\t\t\tauthorization: app.globalData.token\n\t\t\t\t},\n\t\t\t\tsuccess: res => {\n\t\t\t\t\t// console.log(res)\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tres = helper.null2str(res)\n\t\t\t\t\tres = JSON.parse(res.data)\n\t\t\t\t\tif (res.status_code == 200) {\n\t\t\t\t\t\tthis.voicePath = res.data.path\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '上传失败，请重新录音'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// |||||||||||||||||||||录音部分--结束|||||||||||||||||||||\n\t\t// |||||||||||||||||||||---以下---为富文本部分|||||||||||||||||||||\n\t\treadOnlyChange() {\n\t\t\tthis.readOnly = !this.readOnly\n\t\t},\n\t\tonEditorReady() {\n\t\t\tuni.createSelectorQuery().select('#editor').context((res) => {\n\t\t\t\t// console.log(res.context)\n\t\t\t\tthis.editorCtx = res.context\n\t\t\t}).exec()\n\t\t},\n\t\tundo() {\n\t\t\tthis.editorCtx.undo()\n\t\t},\n\t\tredo() {\n\t\t\tthis.editorCtx.redo()\n\t\t},\n\t\tformat(e) {\n\t\t\tlet {\n\t\t\t\tname,\n\t\t\t\tvalue\n\t\t\t} = e.target.dataset\n\t\t\tif (!name) return\n\t\t\t// console.log('format', name, value)\n\t\t\tthis.editorCtx.format(name, value)\n\t\t},\n\t\tonStatusChange(e) {\n\t\t\tconst formats = e.detail\n\t\t\tthis.formats = formats\n\t\t},\n\t\tinsertDivider() {\n\t\t\tthis.editorCtx.insertDivider({\n\t\t\t\tsuccess: function() {\n\t\t\t\t\t// console.log('insert divider success')\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tclear() {\n\t\t\tthis.editorCtx.clear({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t// console.log(\"clear success\")\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tremoveFormat() {\n\t\t\tthis.editorCtx.removeFormat()\n\t\t},\n\t\tinsertDate() {\n\t\t\tconst date = new Date()\n\t\t\tconst formatDate = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`\n\t\t\tthis.editorCtx.insertText({\n\t\t\t\ttext: formatDate\n\t\t\t})\n\t\t},\n\t\tinsertImage() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\t// sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t// sourceType: ['album', 'camera'],\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '图片上传中',\n\t\t\t\t\t\ticon: 'loading'\n\t\t\t\t\t});\n\t\t\t\t\tPromise.all(\n\t\t\t\t\t\tres.tempFiles.map(item => {\n\t\t\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\t\t\turl: `${helper.requestUrl}/posts/uploads`,\n\t\t\t\t\t\t\t\t\tfilePath: item.path,\n\t\t\t\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\tauthorization: app.globalData.token\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t\t\t// console.log(res)\n\t\t\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\t\t\tpath: JSON.parse(res.data).data\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t).then(e => {\n\t\t\t\t\t\tuni.hideToast();\n\t\t\t\t\t\t// this.imgInfo = e[0].path;\n\t\t\t\t\t\t// console.log(this.imgInfo, '图片')\n\t\t\t\t\t\tthis.editorCtx.insertImage({\n\t\t\t\t\t\t\tsrc: e[0].path.path,\n\t\t\t\t\t\t\talt: '图像',\n\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t// console.log('insert image success')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}).catch(err => console.log(err));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// |||||||||||||||||||||---以上---为富文本部分|||||||||||||||||||||\n\t},\n\t\n}\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/post.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./post.vue?vue&type=template&id=80e85abe&\"\nvar renderjs\nimport script from \"./post.vue?vue&type=script&lang=js&\"\nexport * from \"./post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('80e85abe')) {\n      api.createRecord('80e85abe', component.options)\n    } else {\n      api.reload('80e85abe', component.options)\n    }\n    module.hot.accept(\"./post.vue?vue&type=template&id=80e85abe&\", function () {\n      api.rerender('80e85abe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/financeForum_app/pages/post.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=template&id=80e85abe&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }"],"sourceRoot":""}