{"version":3,"sources":["webpack:///D:/work/financeForum_app/pages/post.vue?63dc","webpack:///D:/work/financeForum_app/pages/post.vue","webpack:///D:/work/financeForum_app/pages/post.vue?d697","webpack:///D:/work/financeForum_app/pages/post.vue?4b6b","webpack:///D:/work/financeForum_app/main.js","webpack:///D:/work/financeForum_app/pages/post.vue?0eeb","webpack:///D:/work/financeForum_app/pages/post.vue?a552","webpack:///D:/work/financeForum_app/pages/post.vue?be5c"],"names":["app","getApp","data","formNode","title","content","board_id","topic_id","name","imgInfo","onLoad","e","console","log","id","methods","getPhoto","uni","chooseImage","count","sizeType","sourceType","success","res","showToast","icon","Promise","all","tempFiles","map","item","resolve","reject","uploadFile","url","helper","requestUrl","filePath","path","header","authorization","globalData","token","JSON","parse","then","hideToast","catch","err","onEditorReady","createSelectorQuery","select","context","editorContext","insertImage","src","exec","contentChange","detail","inputValue","currentTarget","dataset","value","post","request","method","hideLoading","null2str","status_code","message","setTimeout","reLaunch","createPage","Page"],"mappings":"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","file":"pages/post.js","sourcesContent":["import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nconst app = getApp();\r\nimport helper from '../common/helper.js';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tformNode: {\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tboard_id: '',\r\n\t\t\t\ttopic_id: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\timgInfo: ''\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tonLoad(e) {\r\n\t\tconsole.log(e);\r\n\t\tthis.formNode.board_id = e.id;\r\n\t\tthis.name = e.name;\r\n\t},\r\n\tmethods: {\r\n\t\t// 上传图片\r\n\t\tgetPhoto() {\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 1,\r\n\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '图片上传中',\r\n\t\t\t\t\t\ticon: 'loading'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tPromise.all(\r\n\t\t\t\t\t\tres.tempFiles.map(item => {\r\n\t\t\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\t\turl: `${helper.requestUrl}/posts/uploads`,\r\n\t\t\t\t\t\t\t\t\tfilePath: item.path,\r\n\t\t\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\tauthorization: app.globalData.token\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\t\t\t\t\tpath: JSON.parse(res.data).data\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t).then(e => {\r\n\t\t\t\t\t\tuni.hideToast();\r\n\t\t\t\t\t\tthis.imgInfo = e[0].path;\r\n\t\t\t\t\t\tconsole.log(this.imgInfo,'图片')\r\n\t\t\t\t\t}).catch(err => console.log(err));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tonEditorReady() {\r\n\t\t\tconsole.log(this.imgInfo,'****')\r\n\t\t\tuni.createSelectorQuery().select('#editor').context((res) => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthis.editorContext.insertImage({\r\n\t\t\t\t  src: this.imgInfo.path,\r\n\t\t\t\t})\r\n\t\t\t\t// this.editorCtx.setContents({\r\n\t\t\t\t// \thtml:that.info.gongsijieshao,\r\n\t\t\t\t// \tsuccess:(res)=> {\r\n\t\t\t\t// \t\tconsole.log(res)\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tfail:(res)=> {\r\n\t\t\t\t// \t\tconsole.log(res)\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// })\r\n\t\t\t\t\t// this.editorCtx = res.context\r\n\t\t\t\t\t// this.editorCtx.insertImage({\r\n\t\t\t\t\t//   src: this.imgInfo.path\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// console.log(this.editorCtx)\r\n\t\t\t}).exec()\r\n\t\t},\r\n\t\tcontentChange(e) {\r\n\t\t\tconsole.log(e.detail);\r\n\t\t},\r\n\t\tinputValue(e) {\r\n\t\t\tlet formNode = this.formNode;\r\n\t\t\tlet name = e.currentTarget.dataset.name;\r\n\t\t\tlet value = e.detail.value;\r\n\t\t\tformNode[name] = value;\r\n\t\t\tthis.formNode = formNode;\r\n\t\t},\r\n\t\t// 发帖\r\n\t\tpost() {\r\n\t\t\tuni.request({\r\n\t\t\t\turl: `${helper.requestUrl}/posts/send`,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tauthorization: app.globalData.token\r\n\t\t\t\t},\r\n\t\t\t\tdata: this.formNode,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tres = helper.null2str(res);\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.data.status_code == '200') {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: `/pages/index`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/post.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./post.vue?vue&type=template&id=80e85abe&\"\nimport script from \"./post.vue?vue&type=script&lang=js&\"\nexport * from \"./post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('80e85abe', component.options)\n    } else {\n      api.reload('80e85abe', component.options)\n    }\n    module.hot.accept(\"./post.vue?vue&type=template&id=80e85abe&\", function () {\n      api.rerender('80e85abe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/financeForum_app/pages/post.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=template&id=80e85abe&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}