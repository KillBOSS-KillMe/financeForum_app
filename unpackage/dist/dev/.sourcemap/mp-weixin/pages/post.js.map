{"version":3,"sources":["webpack:///D:/work/financeForum_app/pages/post.vue?63dc","webpack:///D:/work/financeForum_app/pages/post.vue","webpack:///D:/work/financeForum_app/pages/post.vue?d697","webpack:///D:/work/financeForum_app/pages/post.vue?4b6b","webpack:///D:/work/financeForum_app/main.js","webpack:///D:/work/financeForum_app/pages/post.vue?0eeb","webpack:///D:/work/financeForum_app/pages/post.vue?a552","webpack:///D:/work/financeForum_app/pages/post.vue?be5c"],"names":["app","getApp","data","formNode","title","content","board_id","topic_id","name","imgInfo","onLoad","e","console","log","id","methods","onEditorReady","uni","createSelectorQuery","select","context","res","editorCtx","setContents","exec","contentChange","detail","inputValue","currentTarget","dataset","value","post","request","url","helper","requestUrl","method","header","authorization","globalData","token","success","hideLoading","null2str","status_code","showToast","message","icon","setTimeout","reLaunch","getPhoto","chooseImage","count","sizeType","sourceType","Promise","all","tempFiles","map","item","resolve","reject","uploadFile","filePath","path","JSON","parse","then","hideToast","catch","err","createPage","Page"],"mappings":"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","file":"pages/post.js","sourcesContent":["import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nconst app = getApp();\r\nimport helper from '../common/helper.js';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tformNode: {\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tboard_id: '',\r\n\t\t\t\ttopic_id: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\timgInfo: ''\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tonLoad(e) {\r\n\t\tconsole.log(e);\r\n\t\tthis.formNode.board_id = e.id;\r\n\t\tthis.name = e.name;\r\n\t},\r\n\tmethods: {\r\n\t\tonEditorReady() {\r\n\t\t\tuni\r\n\t\t\t\t.createSelectorQuery()\r\n\t\t\t\t.select('#editor')\r\n\t\t\t\t.context(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthis.editorCtx = res.context;\r\n\t\t\t\t\tlet content = {\r\n\t\t\t\t\t\t// html:`<p wx:nodeid=\"70\">import AceRow from \"@/xx/Ace_Row\"</p><p wx:nodeid=\"73\">components:{</p><p wx:nodeid=\"79\" style='white-space:pre;'>\tAceRow</p><p wx:nodeid=\"76\">}</p><p wx:nodeid=\"76\"><br></p><p wx:nodeid=\"13\">&lt;Ace-Row :gutter='10'&gt;</p><p wx:nodeid=\"66\" style='white-space:pre;'>\t&lt;Ace-Col :span='5' :offset='1' &gt;&lt;/Ace-Col&gt;\t\t\t\t\t\t</p><p wx:nodeid=\"68\">&lt;/Ace-Row&gt;</p>`\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.editorCtx.setContents(content); //设置富文本编辑器的内容\r\n\t\t\t\t})\r\n\t\t\t\t.exec();\r\n\t\t},\r\n\t\tcontentChange(e) {\r\n\t\t\tconsole.log(e.detail);\r\n\t\t},\r\n\t\tinputValue(e) {\r\n\t\t\tlet formNode = this.formNode;\r\n\t\t\tlet name = e.currentTarget.dataset.name;\r\n\t\t\tlet value = e.detail.value;\r\n\t\t\tformNode[name] = value;\r\n\t\t\tthis.formNode = formNode;\r\n\t\t},\r\n\t\t// 发帖\r\n\t\tpost() {\r\n\t\t\tuni.request({\r\n\t\t\t\turl: `${helper.requestUrl}/posts/send`,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\tauthorization: app.globalData.token\r\n\t\t\t\t},\r\n\t\t\t\tdata: this.formNode,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tres = helper.null2str(res);\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.data.status_code == '200') {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: `/pages/index`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 上传图片\r\n\t\tgetPhoto() {\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 1,\r\n\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '图片上传中',\r\n\t\t\t\t\t\ticon: 'loading'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tPromise.all(\r\n\t\t\t\t\t\tres.tempFiles.map(item => {\r\n\t\t\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\t\turl: `${helper.requestUrl}/posts/uploads`,\r\n\t\t\t\t\t\t\t\t\tfilePath: item.path,\r\n\t\t\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\tauthorization: app.globalData.token\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\t\t\t\t\tpath: JSON.parse(res.data).data\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t).then(e => {\r\n\t\t\t\t\t\tuni.hideToast();\r\n\t\t\t\t\t\tthis.imgInfo = e[0].path;\r\n\t\t\t\t\t}).catch(err => console.log(err));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/post.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./post.vue?vue&type=template&id=80e85abe&\"\nimport script from \"./post.vue?vue&type=script&lang=js&\"\nexport * from \"./post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('80e85abe', component.options)\n    } else {\n      api.reload('80e85abe', component.options)\n    }\n    module.hot.accept(\"./post.vue?vue&type=template&id=80e85abe&\", function () {\n      api.rerender('80e85abe', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/financeForum_app/pages/post.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=template&id=80e85abe&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}